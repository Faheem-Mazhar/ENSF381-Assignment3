<!DOCTYPE html>
<html>
<head>
    <title>LMS Courses</title>
    <link rel="stylesheet" type="text/css" href="../src/styles.css">
</head>
<body>
    <div>
        <header>
            <img src="../public/images/logo.jpg" alt="logo" width="140px" height="140px"/>
            <h1><b>LMS - Learning Management System</b></h1>
        </header>
        <div class="navbar">
            <a href="index.html">Homepage</a>
        </div>
        <main class="course-view">
            <h2>LMS - Course View</h2>
            <div>
                <label for="term-select">Select Term:</label>
                <select id="term-select" class="term-select">
                    <option value="winter2025">Winter 2025</option>
                    <option value="fall2024">Fall 2024</option>
                    <option value="winter2024">Winter 2024</option>
                    <option value="fall2023">Fall 2023</option>
                </select>
            </div>
            <h2 class="section-title">Enrolled Courses</h2>
            <hr>
            <div class="course-container">
                <div class="course-tile">
                    <img src="../public/images/course1.jpg" alt="Web Development">
                    <p>Course Name: Web Development</p>
                    <p>Course Code: WD381</p>
                    <a href="attempt_quiz.html">Attempt Quiz</a>
                </div>
                <div class="course-tile">
                    <img src="../public/images/course1.jpg" alt="Data Structures">
                    <p>Course Name: Data Structures</p>
                    <p>Course Code: DS371</p>
                    <a href="attempt_quiz.html">Attempt Quiz</a>
                </div>
                <div class="course-tile">
                    <img src="../public/images/course1.jpg" alt="DBMS">
                    <p>Course Name: DBMS</p>
                    <p>Course Code: DB346</p>
                    <a href="attempt_quiz.html">Attempt Quiz</a>
                </div>
                <div class="course-tile">
                    <img src="../public/images/course1.jpg" alt="Software Testing">
                    <p>Course Name: Software Testing</p>
                    <p>Course Code: ST484</p>
                    <a href="attempt_quiz.html">Attempt Quiz</a>
                </div>
                <div class="course-tile">
                    <img src="../public/images/course1.jpg" alt="Software Architectures">
                    <p>Course Name: Software Architectures</p>
                    <p>Course Code: SA396</p>
                    <a href="attempt_quiz.html">Attempt Quiz</a>
                </div>
            </div>
            <h2 class="section-title">Pending Invitations</h2>
            <hr>
            <div class="pending-container">
                <div class="pending-tile">
                    <img src="../public/images/course2.jpg" alt="Pending Data Science" width="430px" height="350px">
                    <p>Course Name: Data Science</p>
                    <p>Course Code: DS102</p>
                    <button class="accept-btn">Accept</button>
                    <button class="decline-btn">Decline</button>
                </div>
                <div class="pending-tile">
                    <img src="../public/images/course2.jpg" alt="Pending Machine Learning" width="430px" height="350px">
                    <p>Course Name: Machine Learning</p>
                    <p>Course Code: ML105</p>
                    <button class="accept-btn">Accept</button>
                    <button class="decline-btn">Decline</button>
                </div>
            </div>
        </main>
        <footer>
            <p>&copy; 2025 LMS. All rights reserved.</p>
        </footer>
    </div>

    <script>
        window.onload = function () {
        const pendingContainer = document.getElementsByClassName("pending-container")[0];
        const enrolledContainer = document.getElementsByClassName("course-container")[0];

        function handleButtonClick(event) {
            const button = event.target;
            const pendingTile = button.parentNode;

            if (button.className === "accept-btn") {
                moveCourseToEnrolled(pendingTile);
            } else if (button.className === "decline-btn") {
                removeCourse(pendingTile);
            }
        }

        function moveCourseToEnrolled(pendingTile) {
            const courseDetails = pendingTile.getElementsByTagName("p");
            const courseName = courseDetails[0].textContent;
            const courseCode = courseDetails[1].textContent;

            const courseImageSrc = "../public/images/course1.jpg";

            const enrolledTile = document.createElement("div");
            enrolledTile.className = "course-tile";

            enrolledTile.innerHTML = `
                <img src="${courseImageSrc}" alt="${courseName}">
                <p>${courseName}</p>
                <p>${courseCode}</p>
                <a href="attempt_quiz.html">Attempt Quiz</a>
            `;

            enrolledContainer.appendChild(enrolledTile);

            pendingTile.parentNode.removeChild(pendingTile);
        }   

        function removeCourse(pendingTile) {
            pendingTile.parentNode.removeChild(pendingTile);
        }

        pendingContainer.addEventListener("click", handleButtonClick);
    };
    </script>
        
</body>
</html>